<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Search for a City on a Map</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <!-- Replace YOUR_API_KEY with your Mapbox API key -->
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.4.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.4.0/mapbox-gl.css' rel='stylesheet' />
  <style>
    #search-bar {
  position: absolute;
  top: 10px;
  left: 10px;
  z-index: 5;
}
#search-button {
  position: absolute;
  top: 10px;
  left: 190px;
  z-index: 5;
}

    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%;  }
  </style>
</head>
<body>
  <!-- Add a search bar to the page -->
  <input id='search-bar' type='text' placeholder='Search for a city...'>

  <!-- Add a search button to the page -->
  <button id="search-button">Search</button>

  <!-- Create a container for the map -->
  <div id='map'></div>

  <script>

    // Initialize the map
    mapboxgl.accessToken = 'pk.eyJ1IjoibW9oYW1tYWQtYXllc2giLCJhIjoiY2xjZWx4eHo4NzhwbjNwa2VnaXBsOWlweiJ9.SiTucTeZYrzSa8EpGu-h7A';
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v11',
      center: [37, 31],
      zoom: 6.5
    });

    // Search for a city on the map
    var searchBar = document.getElementById('search-bar');
    searchBar.addEventListener('keydown', function(e) {
      if (e.keyCode === 13) { 
        // Press enter to search
        var city = searchBar.value;
        // Use the Mapbox Geocoding API to search for the city
        var geocodeURL = 'https://api.mapbox.com/geocoding/v5/mapbox.places/' + city + '.json?access_token=' + mapboxgl.accessToken;
        fetch(geocodeURL)
          .then(function(response) {
            return response.json();
          })
          .then(function(data) {
            var lng = data.features[0].center[0];
            var lat = data.features[0].center[1];
            // Center the map on the search result
            map.setCenter([lng, lat]);
            // Add a marker to the map
            new mapboxgl.Marker()
              .setLngLat([ lng, lat])
              .addTo(map);
          });
      }
    });
 
 // Search for a city on the map when the button is clicked
var searchButton = document.getElementById('search-button');
searchButton.addEventListener('click', function() {
  var city = searchBar.value;
  // Use the Mapbox Geocoding API to search for the city
  var geocodeURL = 'https://api.mapbox.com/geocoding/v5/mapbox.places/' + city + '.json?access_token=' + mapboxgl.accessToken;
  fetch(geocodeURL)
    .then(function(response) {
      return response.json();
    })
    .then(function(data) {
      var lng = data.features[0].center[0];
      var lat = data.features[0].center[1];
      // Center the map on the search result
      map.setCenter([lng, lat]);
      // Add a marker to the map
      new mapboxgl.Marker()
        .setLngLat([lng, lat])
        .addTo(map);
    });
});

 </script>
</body>
</html>